<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - ViraLens</title>
    <style>
        body { background: #000; color: #fff; font-family: sans-serif; display: flex; height: 100vh; margin: 0; }
        .sidebar { width: 250px; background: #050505; border-right: 1px solid #111; padding: 20px; }
        .main { flex: 1; padding: 40px; }
        .nav-btn { 
            display: block; width: 100%; padding: 15px; margin-bottom: 10px;
            background: none; border: none; color: #888; text-align: left;
            cursor: pointer; font-size: 1rem; border-radius: 8px;
        }
        .nav-btn.active { background: rgba(0, 212, 255, 0.1); color: #00d4ff; font-weight: bold; }
        .section { display: none; }
        .section.active { display: block; }
        .box { background: #0a0a0a; border: 1px solid #222; padding: 20px; border-radius: 15px; }
        textarea { width: 100%; background: #000; color: #00d4ff; border: 1px solid #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; box-sizing: border-box; }
        button.utama { background: #00d4ff; color: #000; border: none; padding: 12px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; width: 100%; }
        #hasil { margin-top: 20px; color: #00d4ff; padding: 15px; border-left: 2px solid #00d4ff; background: #050505; display: none; }
    </style>
</head>
<body>

<div class="sidebar">
    <h2 style="color: #00d4ff;">ViraLens AI</h2>
    <button class="nav-btn active" onclick="buka(event, 'ideator')">‚ú® Ideator Engine</button>
    <button class="nav-btn" onclick="buka(event, 'script')">üìù Script Writer</button>
</div>

<div class="main">
    <div id="ideator" class="section active">
        <h1>Ideator Engine</h1>
        <div class="box">
            <textarea id="inpIde" placeholder="Masukkan niche..."></textarea>
            <button class="utama" onclick="prosesIde()">Cari Ide Viral</button>
            <div id="hasil"></div>
        </div>
    </div>

    <div id="script" class="section">
        <h1>Script Writer</h1>
        <div class="box">
            <p>Fitur Script Writer sedang disiapkan...</p>
        </div>
    </div>
</div>

<script>
    // AIzaSyButvGuiHBKltyUgBxWts2bBDXLGC_fsic
    const GEMINI_API_KEY = "PASTE_API_KEY_KAMU_DI_SINI";

    async function panggilGemini(promptTeks) {
        const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`;
        
        const response = await fetch(url, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                contents: [{ parts: [{ text: promptTeks }] }]
            })
        });

        const data = await response.json();
        return data.candidates[0].content.parts[0].text;
    }

    // 1. FUNGSI IDEATOR ENGINE
    async function runIdeator() {
        const niche = document.getElementById('inputIde').value;
        const resBox = document.getElementById('resIde');
        if(!niche) return alert("Masukkan niche kamu dulu!");

        resBox.style.display = "block";
        resBox.innerHTML = "<em>‚ú® Gemini AI sedang mencari ide viral...</em>";

        const prompt = `Berikan 3 ide konten TikTok/Reels yang viral untuk niche: ${niche}. Fokus pada hook yang memancing rasa penasaran.`;
        const hasilAI = await panggilGemini(prompt);
        resBox.innerHTML = `<strong>Ide Viral:</strong><br>${hasilAI.replace(/\n/g, '<br>')}`;
    }

    // 2. FUNGSI SCRIPT WRITER
    async function runScript() {
        const topik = document.getElementById('inputScript').value;
        const resBox = document.getElementById('resScript');
        if(!topik) return alert("Masukkan topik video dulu!");

        resBox.style.display = "block";
        resBox.innerHTML = "<em>üìù Sedang menyusun naskah video...</em>";

        const prompt = `Buatkan script video pendek (durasi 30 detik) tentang: ${topik}. Harus ada Hook, Story, dan Call to Action. Gunakan bahasa gaul yang santai.`;
        const hasilAI = await panggilGemini(prompt);
        resBox.innerHTML = `<strong>Naskah AI:</strong><br>${hasilAI.replace(/\n/g, '<br>')}`;
    }

    // FUNGSI PINDAH MENU
    function showMenu(menuId, element) {
        document.querySelectorAll('.menu-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        document.getElementById(menuId).classList.add('active');
        element.classList.add('active');
    }
</script>

</body>
</html>

